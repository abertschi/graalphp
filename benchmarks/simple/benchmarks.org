* Initial Run without Optimizations
#+BEGIN_SRC txt
2020-06-25 17:23:23.271935
=================================
+ benchmark for php
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.php


result value: 1346269
result in ns 42256859
result in us 42256.859
result in ms 42.256859
total us: 49790
=================================
+ benchmark for php
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.php


result value: 1346269
result in ns 43698550
result in us 43698.55
result in ms 43.69855
total us: 1258505
=================================
+ benchmark for /home/b/beandata-pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.graalphp


+ /home/b/tools/graalvm/bin/java -Dtruffle.class.path.append=/home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-language/target/graalphp.jar -cp /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-launcher/target/graalphp-launcher-20.0.0-SNAPSHOT.jar org.graalphp.launcher.GraalPhpMain /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.graalphp
1346269
59340312
59340.312
59.340312
+ set +x
total us: 2457466
=================================
+ benchmark for /home/b/beandata-pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.graalphp


+ /home/b/tools/graalvm/bin/java -Dtruffle.class.path.append=/home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-language/target/graalphp.jar -cp /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-launcher/target/graalphp-launcher-20.0.0-SNAPSHOT.jar org.graalphp.launcher.GraalPhpMain /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.graalphp
1346269
186684907
186684.907
186.684907
+ set +x
total us: 596781
=================================
+ benchmark for /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/projects/simplelanguage/sl
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.sl


20.0.0
== running on org.graalvm.polyglot.Engine@3a5ed7a6
1346269
computation time ns: 179979558
computation time us: 179979
computation time ms: 179
total us: 621011
=================================
+ benchmark for /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/projects/simplelanguage/sl
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.sl


20.0.0
== running on org.graalvm.polyglot.Engine@7791a895
1346269
computation time ns: 8352861
computation time us: 8352
computation time ms: 8
total us: 933477

#+END_SRC
** Observation
- unoptimized graalphp is not much slower than PHP
  - PHP 43.69855 ms
  - graalphp 59ms
  - sl: 8ms
- cold start is worse
- the sl results show us what we can expect when fully optimized
* n = 32
#+BEGIN_SRC txt
~/.../benchmarks/simple >>> ./run.py                                     ±[●][feature/benchmark-initial]
2020-06-25 17:52:15.201390
=================================
+ benchmark for php
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.php


result value: 3524578
result in ns 98201789
result in us 98201.789
result in ms 98.201789
total us: 105707
=================================
+ benchmark for php
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.php


result value: 3524578
result in ns 97175115
result in us 97175.115
result in ms 97.175115
total us: 2815171
=================================
+ benchmark for /home/b/beandata-pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.graalphp


+ /home/b/tools/graalvm/bin/java -Dtruffle.class.path.append=/home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-language/target/graalphp.jar -cp /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-launcher/target/graalphp-launcher-20.0.0-SNAPSHOT.jar org.graalphp.launcher.GraalPhpMain /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.graalphp
3524578
165486069
165486.069
165.486069
+ set +x
total us: 5312470
=================================
+ benchmark for /home/b/beandata-pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.graalphp


+ /home/b/tools/graalvm/bin/java -Dtruffle.class.path.append=/home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-language/target/graalphp.jar -cp /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-launcher/target/graalphp-launcher-20.0.0-SNAPSHOT.jar org.graalphp.launcher.GraalPhpMain /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.graalphp
3524578
315970221
315970.221
315.97022100000004
+ set +x
total us: 710560
=================================
+ benchmark for /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/projects/simplelanguage/sl
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.sl


20.0.0
== running on org.graalvm.polyglot.Engine@3a5ed7a6
3524578
computation time ns: 191751204
computation time us: 191751
computation time ms: 191
total us: 649479
=================================
+ benchmark for /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/projects/simplelanguage/sl
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.sl


20.0.0
== running on org.graalvm.polyglot.Engine@7791a895
3524578
computation time ns: 20512255
computation time us: 20512
computation time ms: 20
total us: 1367062
#+END_SRC

* Specializations in read/write local vars
#+begin_src text
 ./run.py                                    ±[●●][feature/benchmark-initial]
2020-06-26 17:47:15.581753
=================================
+ benchmark for php
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.php


result value: 3524578
result in ns 98194837
result in us 98194.837
result in ms 98.194837
total us: 105995
=================================
+ benchmark for php
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.php


result value: 3524578
result in ns 98375092
result in us 98375.092
result in ms 98.375092
total us: 2859452
=================================
+ benchmark for /home/b/beandata-pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.graalphp


+ /home/b/tools/graalvm/bin/java -Dtruffle.class.path.append=/home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-language/target/graalphp.jar -cp /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-launcher/target/graalphp-launcher-20.0.0-SNAPSHOT.jar org.graalphp.launcher.GraalPhpMain /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.graalphp
3524578
155862292
155862.292
155.862292
+ set +x
total us: 5284194
=================================
+ benchmark for /home/b/beandata-pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.graalphp


+ /home/b/tools/graalvm/bin/java -Dtruffle.class.path.append=/home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-language/target/graalphp.jar -cp /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-launcher/target/graalphp-launcher-20.0.0-SNAPSHOT.jar org.graalphp.launcher.GraalPhpMain /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.graalphp
3524578
330414501
330414.501
330.414501
+ set +x
total us: 730642
=================================
+ benchmark for /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/projects/simplelanguage/sl
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.sl


20.0.0
== running on org.graalvm.polyglot.Engine@7791a895
3524578
computation time ns: 204001105
computation time us: 204001
computation time ms: 204
total us: 655262
=================================
+ benchmark for /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/projects/simplelanguage/sl
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.sl


20.0.0
== running on org.graalvm.polyglot.Engine@7791a895
3524578
computation time ns: 22142575
computation time us: 22142
computation time ms: 22
total us: 1405759
#+end_src

* Branch Profiling
#+begin_src text
~/.../benchmarks/simple >>> ./run.py                                   ±[A2●][feature/benchmark-initial]
2020-06-26 18:12:43.778753
=================================
+ benchmark for php
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.php


result value: 3524578
result in ns 97779926
result in us 97779.926
result in ms 97.779926
total us: 105556
=================================
+ benchmark for php
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.php


result value: 3524578
result in ns 98559005
result in us 98559.005
result in ms 98.559005
total us: 2854554
=================================
+ benchmark for /home/b/beandata-pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.graalphp


+ /home/b/tools/graalvm/bin/java -Dtruffle.class.path.append=/home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-language/target/graalphp.jar -cp /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-launcher/target/graalphp-launcher-20.0.0-SNAPSHOT.jar org.graalphp.launcher.GraalPhpMain /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.graalphp
3524578
159097527
159097.527
159.097527
+ set +x
total us: 5212604
=================================
+ benchmark for /home/b/beandata-pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.graalphp


+ /home/b/tools/graalvm/bin/java -Dtruffle.class.path.append=/home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-language/target/graalphp.jar -cp /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/graalphp-launcher/target/graalphp-launcher-20.0.0-SNAPSHOT.jar org.graalphp.launcher.GraalPhpMain /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.graalphp
3524578
308291869
308291.869
308.291869
+ set +x
total us: 711790
=================================
+ benchmark for /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/projects/simplelanguage/sl
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib-cold.sl


20.0.0
== running on org.graalvm.polyglot.Engine@3a5ed7a6
3524578
computation time ns: 201515149
computation time us: 201515
computation time ms: 201
total us: 646484
=================================
+ benchmark for /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/projects/simplelanguage/sl
+ script: /home/b/beandata/pgm-eth/eth-s08-ba-graalphp/graalphp-public/benchmarks/simple/fib/fib.sl


20.0.0
== running on org.graalvm.polyglot.Engine@3a5ed7a6
3524578
computation time ns: 23238368
computation time us: 23238
computation time ms: 23
total us: 1316513
#+end_src
